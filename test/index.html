<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="utf-8" />
</head>

<body>

    <p v-if="myform.bar.$invalid">Bar is invalid</p>

    <form novalidate v-form name="myform">
        <input v-model="model.foo" v-form-model="model.foo" name="foo" :required="isRequired" type="text" />
        <input v-model="model.bar" v-form-model="model.bar" name="bar" type="text" lazy />
        <input v-model="model.baz" v-form-model="model.baz" name="baz" :required="isRequired" type="text" />

        <button type="button" id="test">Submit</button>
    </form>

    <pre>isRequired {{isRequired}}</pre>
    <pre>{{ myform | json }}</pre>

    <button type="button" @click="toggleRequired">toggleRequired</button>

    <script src="../node_modules/vue/dist/vue.js"></script>
    <script src="../vue-form.js"></script>

    <script>
        Vue.config.silent = true;
        new Vue({
            el: 'body',
            data: {
                // myform: {},
                isRequired: true,
                model: {
                    foo: '',
                    bar: 'joe.doe@hpe.com'
                }
            },
            methods: {
                toggleRequired: function () {
                    this.isRequired = !this.isRequired;
                }
            }
        });
    </script>

</body>

</html>