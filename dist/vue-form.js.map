{"version":3,"file":"vue-form.js","sources":["../src/config.js","../src/components/error-mixin.js","../src/components/form-errors.js","../src/components/form-error.js","../src/validators.js","../src/components/vue-form.js","../src/util.js","../src/directives/vue-form-validator.js","../src/components/validate.js","../src/main.js"],"sourcesContent":["export const config = {\r\n    formComponent: 'vueForm',\r\n    errorComponent: 'formError',\r\n    errorsComponent: 'formErrors',\r\n    validateComponent: 'validate',\r\n    errorTag: 'span',\r\n    errorsTag: 'div',\r\n    classPrefix: 'vf-',\r\n    dirtyClass: 'dirty',\r\n    pristineClass: 'pristine',\r\n    validClass: 'valid',\r\n    invalidClass: 'invalid',\r\n    submittedClass: 'submitted',\r\n    touchedClass: 'touched',\r\n    untouchedClass: 'untouched',\r\n    pendingClass: 'pending',\r\n    Promise: window.Promise\r\n};\r\n","export default {\r\n  computed: {\r\n    isShown() {\r\n      const field = this.formstate[this.field];\r\n\r\n      if (!this.show || !field) {\r\n        return true;\r\n      }\r\n\r\n      if (this.show.indexOf('&&') > -1) {\r\n        // and logic - every\r\n        const split = this.show.split('&&');\r\n        return split.every(v => field[v.trim()]);\r\n      } else if (this.show.indexOf('||') > -1) {\r\n        // or logic - some\r\n        const split = this.show.split('||');\r\n        return split.some(v => field[v.trim()]);\r\n      } else {\r\n        // single\r\n        return field[this.show];\r\n      }\r\n    }\r\n  }\r\n};\r\n","import { config } from '../config';\r\nimport errorMixin from './error-mixin';\r\n\r\nexport default {\r\n  mixins: [errorMixin],\r\n  render(h) {\r\n    //console.log('errors render');\r\n    const children = [];\r\n    const field = this.formstate[this.field];\r\n    if (field && field.$error && this.isShown) {\r\n      Object.keys(field.$error).forEach((key) => {\r\n        children.push(this.$slots[key]);\r\n      });\r\n    }\r\n    return h(this.tag, children);\r\n  },\r\n  props: {\r\n    state: Object,\r\n    field: String,\r\n    show: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    tag: {\r\n      type: String,\r\n      default: config.errorsTag\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      formstate: {}\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.formstate = this.state || this.$parent.formstate || this.$parent.state;\r\n    });\r\n  }\r\n};\r\n","import { config } from '../config';\r\nimport errorMixin from './error-mixin';\r\n\r\nexport default {\r\n  mixins: [errorMixin],\r\n  render(h) {\r\n    const field = this.formstate[this.field];\r\n    if (field && field.$error[this.error] && this.isShown) {\r\n      return h(this.tag, [this.$slots.default]);\r\n    }\r\n  },\r\n  props: {\r\n    state: Object,\r\n    field: String,\r\n    error: String,\r\n    show: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    tag: {\r\n      type: String,\r\n      default: config.errorTag\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      formstate: {}\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.formstate = this.state || this.$parent.formstate || this.$parent.state;\r\n    });\r\n  }\r\n}\r\n","const emailRegExp = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i; // from angular\r\nconst urlRegExp = /^(http\\:\\/\\/|https\\:\\/\\/)(.{4,})$/;\r\n\r\nexport const validators = {\r\n  email(value, attrValue, vnode) {\r\n    return emailRegExp.test(value);\r\n  },\r\n  number(value) {\r\n    return !isNaN(value);\r\n  },\r\n  url(value) {\r\n    return urlRegExp.test(value);\r\n  },\r\n  required(value, attrValue, vnode) {\r\n    if (attrValue === false) {\r\n      return true;\r\n    }\r\n\r\n    if (value === 0) {\r\n      return true;\r\n    }\r\n\r\n    if (Array.isArray(value)) {\r\n      return !!value.length;\r\n    }\r\n    return !!value;\r\n  },\r\n  minlength(value, length) {\r\n    return value.length >= length;\r\n  },\r\n  maxlength(value, length) {\r\n    return length >= value.length;\r\n  },\r\n  pattern(value, pattern) {\r\n    const patternRegExp = new RegExp('^' + pattern + '$');\r\n    return patternRegExp.test(value);\r\n  },\r\n  min(value, min) {\r\n    return value * 1 >= min * 1;\r\n  },\r\n  max(value, max) {\r\n    return max * 1 >= value * 1;\r\n  }\r\n};\r\n","import { config } from '../config';\r\nimport { validators } from '../validators';\r\n\r\nexport default {\r\n  render(h) {\r\n    return h(\r\n      'form', {\r\n        on: {\r\n          submit: (event) => {\r\n            this.state.$submitted = true;\r\n            this.$emit('submit', event);\r\n          }\r\n        },\r\n        attrs: {\r\n          'novalidate': '',\r\n          'class': this.className\r\n        }\r\n      }, [this.$slots.default]\r\n    );\r\n  },\r\n  props: {\r\n    state: Object\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {\r\n    const controls = {};\r\n    const state = this.state;\r\n    const formstate = {\r\n      $dirty: false,\r\n      $pristine: true,\r\n      $valid: true,\r\n      $invalid: false,\r\n      $submitted: false,\r\n      $touched: false,\r\n      $untouched: true,\r\n      $pending: false,\r\n      $error: {},\r\n      _addControl: (ctrl) => {\r\n        controls[ctrl.$name] = ctrl;\r\n        this.$set(state, ctrl.$name, ctrl);\r\n      },\r\n      _removeControl: (ctrl) => {\r\n        delete controls[ctrl.$name];\r\n        this.$delete(this.state, ctrl.$name);\r\n        this.$delete(this.state.$error, ctrl.$name);\r\n      }\r\n    }\r\n\r\n    Object.keys(formstate).forEach((key) => {\r\n      this.$set(this.state, key, formstate[key]);\r\n    });\r\n\r\n    this.$watch('state', () => {\r\n      let isDirty = false;\r\n      let isValid = true;\r\n      let isTouched = false;\r\n      let isPending = false;\r\n      Object.keys(controls).forEach((key) => {\r\n        const control = controls[key];\r\n        if (control.$dirty) {\r\n          isDirty = true;\r\n        }\r\n        if (control.$touched) {\r\n          isTouched = true;\r\n        }\r\n        if (control.$pending) {\r\n          isPending = true;\r\n        }\r\n        if (!control.$valid) {\r\n          isValid = false;\r\n          // add control to errors\r\n          this.$set(state.$error, control.$name, control);\r\n        } else {\r\n          this.$delete(state.$error, control.$name);\r\n        }\r\n      });\r\n\r\n      state.$dirty = isDirty;\r\n      state.$pristine = !isDirty;\r\n      state.$touched = isTouched;\r\n      state.$untouched = !isTouched;\r\n      state.$valid = isValid;\r\n      state.$invalid = !isValid;\r\n      state.$pending = isPending;\r\n\r\n    }, {\r\n      deep: true,\r\n      immediate: true\r\n    });\r\n\r\n    /* watch pristine? if set to true, set all children to pristine\r\n    Object.keys(controls).forEach((ctrl) => {\r\n      controls[ctrl].setPristine();\r\n    });*/\r\n\r\n  },\r\n  computed: {\r\n    className() {\r\n      const out = [];\r\n      if (this.state.$dirty) {\r\n        out.push(config.dirtyClass);\r\n      } else {\r\n        out.push(config.pristineClass);\r\n      }\r\n      if (this.state.$valid) {\r\n        out.push(config.validClass);\r\n      } else {\r\n        out.push(config.invalidClass);\r\n      }\r\n      if (this.state.$touched) {\r\n        out.push(config.touchedClass);\r\n      } else {\r\n        out.push(config.untouchedClass);\r\n      }\r\n      if (this.state.$submitted) {\r\n        out.push(config.submittedClass);\r\n      }\r\n      if (this.state.$pending) {\r\n        out.push(config.pendingClass);\r\n      }\r\n      return out.map(v => config.classPrefix + 'form-' + v).join(' ');\r\n    }\r\n  }\r\n}\r\n","export function addClass(el, className) {\r\n  if (el.classList) {\r\n    el.classList.add(className);\r\n  } else {\r\n    el.className += ' ' + className;\r\n  }\r\n}\r\n\r\nexport function removeClass(el, className) {\r\n  if (el.classList) {\r\n    el.classList.remove(className);\r\n  } else {\r\n    el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n  }\r\n}\r\n\r\nexport function removeClassWithPrefix(el, prefix) {\r\n  var classes = el.className.split(\" \").filter(function(c) {\r\n    return c.lastIndexOf(prefix, 0) !== 0;\r\n  });\r\n  el.className = (classes.join(\" \")).trim();\r\n}\r\n\r\nexport function vModelValue(data) {\r\n  if (data.model) {\r\n    return data.model.value;\r\n  }\r\n  return data.directives.filter(v => v.name === 'model')[0].value;\r\n}\r\n\r\nexport function getVModelNode(nodes) {\r\n  const foundVnodes = [];\r\n\r\n  function traverse(nodes) {\r\n    for (let i = 0; i < nodes.length; i++) {\r\n      let node = nodes[i];\r\n      if (node.data) {\r\n        if (node.data.directives) {\r\n          const match = node.data.directives.filter(v => v.name === 'model');\r\n          if (match.length) {\r\n            foundVnodes.push(node);\r\n          }\r\n        } else if (node.data.model) {\r\n          foundVnodes.push(node);\r\n        }\r\n      }\r\n      if (node.children) {\r\n        traverse(node.children);\r\n      }\r\n    }\r\n  }\r\n\r\n  traverse(nodes);\r\n\r\n  return foundVnodes;\r\n}\r\n\r\nexport function getName(vnode) {\r\n  if(vnode.data && vnode.data.attrs && vnode.data.attrs.name) {\r\n    return vnode.data.attrs.name;\r\n  } else if (vnode.componentOptions && vnode.componentOptions.propsData && vnode.componentOptions.propsData.name) {\r\n    return vnode.componentOptions.propsData.name;\r\n  }\r\n}\r\n","import { validators } from '../validators';\r\nimport { vModelValue, getName } from '../util';\r\n\r\nexport function compareChanges(vnode, oldvnode) {\r\n\r\n  let hasChanged = false;\r\n  const attrs = vnode.data.attrs || {};\r\n  const oldAttrs = oldvnode.data.attrs || {};\r\n  const out = {};\r\n\r\n  if (vModelValue(vnode.data) !== vModelValue(oldvnode.data)) {\r\n    out.vModel = true;\r\n    hasChanged = true;\r\n  }\r\n\r\n  Object.keys(validators).forEach((validator) => {\r\n    if (attrs[validator] !== oldAttrs[validator]) {\r\n      out[validator] = true;\r\n      hasChanged = true;\r\n    }\r\n  });\r\n\r\n  // if is a component\r\n  if (vnode.componentOptions && vnode.componentOptions.propsData) {\r\n    const attrs = vnode.componentOptions.propsData;\r\n    const oldAttrs = oldvnode.componentOptions.propsData;\r\n    Object.keys(validators).forEach((validator) => {\r\n      if (attrs[validator] !== oldAttrs[validator]) {\r\n        out[validator] = true;\r\n        hasChanged = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  if (hasChanged) {\r\n    return out;\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'vue-form-validator',\r\n  bind(el, binding, vnode) {\r\n    const fieldstate = binding.value;\r\n    const attrs = (vnode.data.attrs || {});\r\n    const inputName = getName(vnode);\r\n\r\n    if (!inputName) {\r\n      console.warn('vue-form: name attribute missing');\r\n      return;\r\n    }\r\n\r\n    // add validators\r\n    Object.keys(attrs).forEach((attr) => {\r\n      let prop;\r\n      if (attr === 'type') {\r\n        prop = attrs[attr];\r\n      } else {\r\n        prop = attr;\r\n      }\r\n      if (validators[prop] && !fieldstate._validators[prop]) {\r\n        fieldstate._validators[prop] = validators[prop];\r\n      }\r\n    });\r\n\r\n    // if is a component, a validator attribute by be\r\n    // a prop this component uses\r\n    if (vnode.componentOptions && vnode.componentOptions.propsData) {\r\n      Object.keys(vnode.componentOptions.propsData).forEach((prop) => {\r\n        if (validators[prop] && !fieldstate._validators[prop]) {\r\n          fieldstate._validators[prop] = validators[prop];\r\n        }\r\n      });\r\n    }\r\n\r\n    fieldstate._validate(vnode);\r\n\r\n    // native listeners\r\n    el.addEventListener('blur', () => {\r\n      fieldstate._setTouched();\r\n    }, false);\r\n    el.addEventListener('focus', () => {\r\n      fieldstate._setFocused();\r\n    }, false);\r\n\r\n    // component listeners\r\n    if (vnode.componentInstance) {\r\n      vnode.componentInstance.$on('blur', () => {\r\n        fieldstate._setTouched();\r\n      });\r\n      vnode.componentInstance.$on('focus', () => {\r\n        fieldstate._setFocused();\r\n      });\r\n    }\r\n  },\r\n\r\n  update(el, binding, vnode, oldVNode) {\r\n    const changes = compareChanges(vnode, oldVNode);\r\n    const name = (vnode.data.attrs || {}).name;\r\n    const fieldstate = binding.value;\r\n\r\n    if (!changes) {\r\n      return;\r\n    }\r\n\r\n    if (changes.vModel) {\r\n      // re-validate all\r\n      if (fieldstate._hasFocused) {\r\n        fieldstate._setDirty();\r\n      }\r\n      fieldstate._validate(vnode);\r\n    } else {\r\n      // attributes have changed\r\n      // to do: loop through them and re-validate changed ones\r\n      //for(let prop in changes) {\r\n      //  fieldstate._validate(vnode, validator);\r\n      //}\r\n      // for now\r\n      fieldstate._validate(vnode);\r\n    }\r\n\r\n  }\r\n}\r\n","import { config } from '../config';\r\nimport { getVModelNode, vModelValue, addClass, removeClass, getName } from '../util';\r\nimport { validators } from '../validators';\r\n\r\n// todo: Make getVModelNode recursive\r\n\r\nexport default {\r\n  render(h) {\r\n    let foundVnodes = getVModelNode(this.$slots.default);\r\n    if (foundVnodes.length) {\r\n      this.name = getName(foundVnodes[0]);\r\n      foundVnodes.forEach((foundVnode) => {\r\n        if (!foundVnode.data.directives) {\r\n          foundVnode.data.directives = [];\r\n        }\r\n        foundVnode.data.directives.push({ name: 'vue-form-validator', value: this.fieldstate });\r\n        foundVnode.data.attrs['vue-form-validator'] = '';\r\n      });\r\n    } else {\r\n      console.warn('Element with v-model not found');\r\n    }\r\n    return h(this.tag, { 'class': this.className.map(v => config.classPrefix + 'container-' + v) }, this.$slots.default);\r\n  },\r\n  props: {\r\n    state: Object,\r\n    custom: null,\r\n    tag: {\r\n      type: String,\r\n      default: 'span'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      name: '',\r\n      formstate: {},\r\n      fieldstate: {}\r\n    };\r\n  },\r\n  computed: {\r\n    className() {\r\n      const out = [];\r\n      if (this.fieldstate.$dirty) {\r\n        out.push(config.dirtyClass);\r\n      } else {\r\n        out.push(config.pristineClass)\r\n      }\r\n      if (this.fieldstate.$valid) {\r\n        out.push(config.validClass);\r\n      } else {\r\n        out.push(config.invalidClass)\r\n      }\r\n      if (this.fieldstate.$touched) {\r\n        out.push(config.touchedClass);\r\n      } else {\r\n        out.push(config.untouchedClass)\r\n      }\r\n      if (this.fieldstate.$pending) {\r\n        out.push(config.pendingClass);\r\n      }\r\n      Object.keys(this.fieldstate.$error).forEach((error) => {\r\n        out.push(config.invalidClass + '-' + error);\r\n      });\r\n\r\n      return out;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fieldstate.$name = this.name;\r\n    this.formstate = this.state || this.$parent.state;\r\n    this.formstate._addControl(this.fieldstate);\r\n\r\n    const vModelEls = this.$el.querySelectorAll('[vue-form-validator]');\r\n\r\n    // add classes to the input element\r\n    this.$watch('className', (value, oldValue) => {\r\n      if (oldValue) {\r\n        for (let i = 0; i < vModelEls.length; i++) {\r\n          oldValue.forEach(v => removeClass(vModelEls[i], config.classPrefix + v));\r\n        }\r\n      }\r\n      for (let i = 0; i < vModelEls.length; i++) {\r\n        value.forEach(v => addClass(vModelEls[i], config.classPrefix + v));\r\n      };\r\n    }, {\r\n      deep: true,\r\n      immediate: true\r\n    });\r\n\r\n  },\r\n  created() {\r\n    const vm = this;\r\n    let pendingValidators = [];\r\n    let _val;\r\n    this.fieldstate = {\r\n      $name: '',\r\n      $dirty: false,\r\n      $pristine: true,\r\n      $valid: true,\r\n      $invalid: false,\r\n      $touched: false,\r\n      $untouched: true,\r\n      $pending: false,\r\n      $error: {},\r\n      _setValidatorVadility(validator, isValid) {\r\n        if (isValid) {\r\n          vm.$delete(this.$error, validator);\r\n        } else {\r\n          vm.$set(this.$error, validator, true);\r\n        }\r\n      },\r\n      _setVadility(isValid) {\r\n        this.$valid = isValid;\r\n        this.$invalid = !isValid;\r\n      },\r\n      _setDirty() {\r\n        this.$dirty = true;\r\n        this.$pristine = false;\r\n      },\r\n      _setPristine() {\r\n        this.$dirty = false;\r\n        this.$pristine = true;\r\n      },\r\n      _setTouched() {\r\n        this.$touched = true;\r\n        this.$untouched = false;\r\n      },\r\n      _setUntouched() {\r\n        this.$touched = false;\r\n        this.$untouched = true;\r\n      },\r\n      _setFocused() {\r\n        this._hasFocused = true;\r\n      },\r\n      _hasFocused: false,\r\n      _validators: {},\r\n      _validate(vnode) {\r\n        this.$pending = true;\r\n        let isValid = true;\r\n        let emptyAndRequired = false;\r\n        const value = vModelValue(vnode.data);\r\n        _val = value;\r\n\r\n        const pending = {\r\n          promises: [],\r\n          names: []\r\n        };\r\n\r\n        pendingValidators.push(pending);\r\n\r\n        const attrs = (vnode.data.attrs || {});\r\n        const propsData = (vnode.componentOptions && vnode.componentOptions.propsData ? vnode.componentOptions.propsData : {});\r\n\r\n        Object.keys(this._validators).forEach((validator) => {\r\n          // when value is empty and not the required validator, the field is valid\r\n          if ((value === '' || value === undefined || value === null) && validator !== 'required') {\r\n            this._setValidatorVadility(validator, true);\r\n            emptyAndRequired = true;\r\n            // return early, required validator will\r\n            // fall through if it is present\r\n            return;\r\n          }\r\n          const attrValue = typeof attrs[validator] !== 'undefined' ? attrs[validator] : propsData[validator];\r\n          const result = this._validators[validator](value, attrValue, vnode);\r\n          if (typeof result === 'boolean') {\r\n            if (result) {\r\n              this._setValidatorVadility(validator, true);\r\n            } else {\r\n              isValid = false;\r\n              this._setValidatorVadility(validator, false);\r\n            }\r\n          } else {\r\n            pending.promises.push(result);\r\n            pending.names.push(validator);\r\n          }\r\n        });\r\n\r\n        if (pending.promises.length) {\r\n          config.Promise.all(pending.promises).then((results) => {\r\n\r\n            // only concerned with the last promise results, in case\r\n            // async responses return out of order\r\n            if (pending !== pendingValidators[pendingValidators.length - 1]) {\r\n              //console.log('ignoring old promise', pending.promises);\r\n              return;\r\n            }\r\n\r\n            pendingValidators = [];\r\n\r\n            results.forEach((result, i) => {\r\n              const name = pending.names[i];\r\n              if (result) {\r\n                this._setValidatorVadility(name, true);\r\n              } else {\r\n                isValid = false;\r\n                this._setValidatorVadility(name, false);\r\n              }\r\n            });\r\n            this._setVadility(isValid);\r\n            this.$pending = false;\r\n          });\r\n        } else {\r\n          this._setVadility(isValid);\r\n          this.$pending = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    // add custom validators\r\n    if (this.custom) {\r\n      Object.keys(this.custom).forEach((prop) => {\r\n        this.fieldstate._validators[prop] = this.custom[prop];\r\n      });\r\n    }\r\n\r\n  },\r\n  destroyed() {\r\n    this.formstate._removeControl(this.fieldstate);\r\n  }\r\n};\r\n","import { config } from './config';\r\nimport formErrors from './components/form-errors';\r\nimport formError from './components/form-error';\r\nimport vueForm from './components/vue-form';\r\nimport vueFormValidator from './directives/vue-form-validator';\r\nimport validate from './components/validate';\r\nimport { validators } from './validators';\r\n\r\nexport default {\r\n  install(Vue) {\r\n    Vue.component(config.formComponent, vueForm);\r\n    Vue.component(config.validateComponent, validate);\r\n    Vue.component(config.errorsComponent, formErrors);\r\n    Vue.component(config.errorComponent, formError);\r\n    Vue.directive('vue-form-validator', vueFormValidator);\r\n  },\r\n  config,\r\n  addValidator(key, fn) {\r\n    validators[key] = fn;\r\n  },\r\n  mixin: {\r\n    components: {\r\n      formErrors,\r\n      formError,\r\n      vueForm,\r\n      validate\r\n    },\r\n    directives: {\r\n      vueFormValidator\r\n    }\r\n  }\r\n};\r\n"],"names":["config","window","Promise","field","formstate","show","indexOf","split","every","v","trim","some","errorMixin","h","children","$error","isShown","keys","forEach","key","push","$slots","tag","Object","String","errorsTag","$nextTick","state","$parent","error","default","errorTag","emailRegExp","urlRegExp","validators","value","attrValue","vnode","test","isNaN","Array","isArray","length","pattern","patternRegExp","RegExp","min","max","event","$submitted","$emit","className","controls","ctrl","$name","$set","$delete","$watch","isDirty","isValid","isTouched","isPending","control","$dirty","$touched","$pending","$valid","$pristine","$untouched","$invalid","out","dirtyClass","pristineClass","validClass","invalidClass","touchedClass","untouchedClass","submittedClass","pendingClass","map","classPrefix","join","addClass","el","classList","add","removeClass","remove","replace","vModelValue","data","model","directives","filter","name","getVModelNode","nodes","foundVnodes","traverse","i","node","match","getName","attrs","componentOptions","propsData","compareChanges","oldvnode","hasChanged","oldAttrs","vModel","validator","binding","fieldstate","inputName","warn","attr","prop","_validators","_validate","addEventListener","_setTouched","_setFocused","componentInstance","$on","oldVNode","changes","_hasFocused","_setDirty","foundVnode","_addControl","vModelEls","$el","querySelectorAll","oldValue","vm","pendingValidators","_val","emptyAndRequired","pending","undefined","_setValidatorVadility","result","promises","names","all","then","results","_setVadility","custom","_removeControl","Vue","component","formComponent","vueForm","validateComponent","validate","errorsComponent","formErrors","errorComponent","formError","directive","vueFormValidator","fn"],"mappings":";;;;;;AAAO,IAAMA,SAAS;mBACH,SADG;oBAEF,WAFE;qBAGD,YAHC;uBAIC,UAJD;cAKR,MALQ;eAMP,KANO;iBAOL,KAPK;gBAQN,OARM;mBASH,UATG;gBAUN,OAVM;kBAWJ,SAXI;oBAYF,WAZE;kBAaJ,SAbI;oBAcF,WAdE;kBAeJ,SAfI;aAgBTC,OAAOC;CAhBb;;ACAP,iBAAe;YACH;WAAA,qBACE;UACFC,QAAQ,KAAKC,SAAL,CAAe,KAAKD,KAApB,CAAd;;UAEI,CAAC,KAAKE,IAAN,IAAc,CAACF,KAAnB,EAA0B;eACjB,IAAP;;;UAGE,KAAKE,IAAL,CAAUC,OAAV,CAAkB,IAAlB,IAA0B,CAAC,CAA/B,EAAkC;;YAE1BC,QAAQ,KAAKF,IAAL,CAAUE,KAAV,CAAgB,IAAhB,CAAd;eACOA,MAAMC,KAAN,CAAY;iBAAKL,MAAMM,EAAEC,IAAF,EAAN,CAAL;SAAZ,CAAP;OAHF,MAIO,IAAI,KAAKL,IAAL,CAAUC,OAAV,CAAkB,IAAlB,IAA0B,CAAC,CAA/B,EAAkC;;YAEjCC,SAAQ,KAAKF,IAAL,CAAUE,KAAV,CAAgB,IAAhB,CAAd;eACOA,OAAMI,IAAN,CAAW;iBAAKR,MAAMM,EAAEC,IAAF,EAAN,CAAL;SAAX,CAAP;OAHK,MAIA;;eAEEP,MAAM,KAAKE,IAAX,CAAP;;;;CAnBR;;ACGA,iBAAe;UACL,CAACO,UAAD,CADK;QAAA,kBAENC,CAFM,EAEH;;;;QAEFC,WAAW,EAAjB;QACMX,QAAQ,KAAKC,SAAL,CAAe,KAAKD,KAApB,CAAd;QACIA,SAASA,MAAMY,MAAf,IAAyB,KAAKC,OAAlC,EAA2C;aAClCC,IAAP,CAAYd,MAAMY,MAAlB,EAA0BG,OAA1B,CAAkC,UAACC,GAAD,EAAS;iBAChCC,IAAT,CAAc,MAAKC,MAAL,CAAYF,GAAZ,CAAd;OADF;;WAIKN,EAAE,KAAKS,GAAP,EAAYR,QAAZ,CAAP;GAXW;;SAaN;WACES,MADF;WAEEC,MAFF;UAGC;YACEA,MADF;eAEK;KALN;SAOA;YACGA,MADH;eAEMxB,OAAOyB;;GAtBP;MAAA,kBAyBN;WACE;iBACM;KADb;GA1BW;SAAA,qBA8BH;;;SACHC,SAAL,CAAe,YAAM;aACdtB,SAAL,GAAiB,OAAKuB,KAAL,IAAc,OAAKC,OAAL,CAAaxB,SAA3B,IAAwC,OAAKwB,OAAL,CAAaD,KAAtE;KADF;;CA/BJ;;ACAA,gBAAe;UACL,CAACf,UAAD,CADK;QAAA,kBAENC,CAFM,EAEH;QACFV,QAAQ,KAAKC,SAAL,CAAe,KAAKD,KAApB,CAAd;QACIA,SAASA,MAAMY,MAAN,CAAa,KAAKc,KAAlB,CAAT,IAAqC,KAAKb,OAA9C,EAAuD;aAC9CH,EAAE,KAAKS,GAAP,EAAY,CAAC,KAAKD,MAAL,CAAYS,OAAb,CAAZ,CAAP;;GALS;;SAQN;WACEP,MADF;WAEEC,MAFF;WAGEA,MAHF;UAIC;YACEA,MADF;eAEK;KANN;SAQA;YACGA,MADH;eAEMxB,OAAO+B;;GAlBP;MAAA,kBAqBN;WACE;iBACM;KADb;GAtBW;SAAA,qBA0BH;;;SACHL,SAAL,CAAe,YAAM;YACdtB,SAAL,GAAiB,MAAKuB,KAAL,IAAc,MAAKC,OAAL,CAAaxB,SAA3B,IAAwC,MAAKwB,OAAL,CAAaD,KAAtE;KADF;;CA3BJ;;ACHA,IAAMK,cAAc,mGAApB;AACA,IAAMC,YAAY,mCAAlB;;AAEA,AAAO,IAAMC,aAAa;OAAA,iBAClBC,KADkB,EACXC,SADW,EACAC,KADA,EACO;WACtBL,YAAYM,IAAZ,CAAiBH,KAAjB,CAAP;GAFsB;QAAA,kBAIjBA,KAJiB,EAIV;WACL,CAACI,MAAMJ,KAAN,CAAR;GALsB;KAAA,eAOpBA,KAPoB,EAOb;WACFF,UAAUK,IAAV,CAAeH,KAAf,CAAP;GARsB;UAAA,oBAUfA,KAVe,EAURC,SAVQ,EAUGC,KAVH,EAUU;QAC5BD,cAAc,KAAlB,EAAyB;aAChB,IAAP;;;QAGED,UAAU,CAAd,EAAiB;aACR,IAAP;;;QAGEK,MAAMC,OAAN,CAAcN,KAAd,CAAJ,EAA0B;aACjB,CAAC,CAACA,MAAMO,MAAf;;WAEK,CAAC,CAACP,KAAT;GAtBsB;WAAA,qBAwBdA,KAxBc,EAwBPO,MAxBO,EAwBC;WAChBP,MAAMO,MAAN,IAAgBA,MAAvB;GAzBsB;WAAA,qBA2BdP,KA3Bc,EA2BPO,MA3BO,EA2BC;WAChBA,UAAUP,MAAMO,MAAvB;GA5BsB;SAAA,mBA8BhBP,KA9BgB,EA8BTQ,QA9BS,EA8BA;QAChBC,gBAAgB,IAAIC,MAAJ,CAAW,MAAMF,QAAN,GAAgB,GAA3B,CAAtB;WACOC,cAAcN,IAAd,CAAmBH,KAAnB,CAAP;GAhCsB;KAAA,eAkCpBA,KAlCoB,EAkCbW,IAlCa,EAkCR;WACPX,QAAQ,CAAR,IAAaW,OAAM,CAA1B;GAnCsB;KAAA,eAqCpBX,KArCoB,EAqCbY,IArCa,EAqCR;WACPA,OAAM,CAAN,IAAWZ,QAAQ,CAA1B;;CAtCG;;ACAP,cAAe;QAAA,kBACNtB,CADM,EACH;;;WACDA,EACL,MADK,EACG;UACF;gBACM,gBAACmC,KAAD,EAAW;gBACZrB,KAAL,CAAWsB,UAAX,GAAwB,IAAxB;gBACKC,KAAL,CAAW,QAAX,EAAqBF,KAArB;;OAJE;aAOC;sBACS,EADT;iBAEI,KAAKG;;KAVb,EAYF,CAAC,KAAK9B,MAAL,CAAYS,OAAb,CAZE,CAAP;GAFW;;SAiBN;WACEP;GAlBI;MAAA,kBAoBN;WACE,EAAP;GArBW;SAAA,qBAuBH;;;QACF6B,WAAW,EAAjB;QACMzB,QAAQ,KAAKA,KAAnB;QACMvB,YAAY;cACR,KADQ;iBAEL,IAFK;cAGR,IAHQ;gBAIN,KAJM;kBAKJ,KALI;gBAMN,KANM;kBAOJ,IAPI;gBAQN,KARM;cASR,EATQ;mBAUH,qBAACiD,IAAD,EAAU;iBACZA,KAAKC,KAAd,IAAuBD,IAAvB;eACKE,IAAL,CAAU5B,KAAV,EAAiB0B,KAAKC,KAAtB,EAA6BD,IAA7B;OAZc;sBAcA,wBAACA,IAAD,EAAU;eACjBD,SAASC,KAAKC,KAAd,CAAP;eACKE,OAAL,CAAa,OAAK7B,KAAlB,EAAyB0B,KAAKC,KAA9B;eACKE,OAAL,CAAa,OAAK7B,KAAL,CAAWZ,MAAxB,EAAgCsC,KAAKC,KAArC;;KAjBJ;;WAqBOrC,IAAP,CAAYb,SAAZ,EAAuBc,OAAvB,CAA+B,UAACC,GAAD,EAAS;aACjCoC,IAAL,CAAU,OAAK5B,KAAf,EAAsBR,GAAtB,EAA2Bf,UAAUe,GAAV,CAA3B;KADF;;SAIKsC,MAAL,CAAY,OAAZ,EAAqB,YAAM;UACrBC,UAAU,KAAd;UACIC,UAAU,IAAd;UACIC,YAAY,KAAhB;UACIC,YAAY,KAAhB;aACO5C,IAAP,CAAYmC,QAAZ,EAAsBlC,OAAtB,CAA8B,UAACC,GAAD,EAAS;YAC/B2C,UAAUV,SAASjC,GAAT,CAAhB;YACI2C,QAAQC,MAAZ,EAAoB;oBACR,IAAV;;YAEED,QAAQE,QAAZ,EAAsB;sBACR,IAAZ;;YAEEF,QAAQG,QAAZ,EAAsB;sBACR,IAAZ;;YAEE,CAACH,QAAQI,MAAb,EAAqB;oBACT,KAAV;;iBAEKX,IAAL,CAAU5B,MAAMZ,MAAhB,EAAwB+C,QAAQR,KAAhC,EAAuCQ,OAAvC;SAHF,MAIO;iBACAN,OAAL,CAAa7B,MAAMZ,MAAnB,EAA2B+C,QAAQR,KAAnC;;OAhBJ;;YAoBMS,MAAN,GAAeL,OAAf;YACMS,SAAN,GAAkB,CAACT,OAAnB;YACMM,QAAN,GAAiBJ,SAAjB;YACMQ,UAAN,GAAmB,CAACR,SAApB;YACMM,MAAN,GAAeP,OAAf;YACMU,QAAN,GAAiB,CAACV,OAAlB;YACMM,QAAN,GAAiBJ,SAAjB;KA/BF,EAiCG;YACK,IADL;iBAEU;KAnCb;;;;;;GAnDW;;YA+FH;aAAA,uBACI;UACJS,MAAM,EAAZ;UACI,KAAK3C,KAAL,CAAWoC,MAAf,EAAuB;YACjB3C,IAAJ,CAASpB,OAAOuE,UAAhB;OADF,MAEO;YACDnD,IAAJ,CAASpB,OAAOwE,aAAhB;;UAEE,KAAK7C,KAAL,CAAWuC,MAAf,EAAuB;YACjB9C,IAAJ,CAASpB,OAAOyE,UAAhB;OADF,MAEO;YACDrD,IAAJ,CAASpB,OAAO0E,YAAhB;;UAEE,KAAK/C,KAAL,CAAWqC,QAAf,EAAyB;YACnB5C,IAAJ,CAASpB,OAAO2E,YAAhB;OADF,MAEO;YACDvD,IAAJ,CAASpB,OAAO4E,cAAhB;;UAEE,KAAKjD,KAAL,CAAWsB,UAAf,EAA2B;YACrB7B,IAAJ,CAASpB,OAAO6E,cAAhB;;UAEE,KAAKlD,KAAL,CAAWsC,QAAf,EAAyB;YACnB7C,IAAJ,CAASpB,OAAO8E,YAAhB;;aAEKR,IAAIS,GAAJ,CAAQ;eAAK/E,OAAOgF,WAAP,GAAqB,OAArB,GAA+BvE,CAApC;OAAR,EAA+CwE,IAA/C,CAAoD,GAApD,CAAP;;;CAvHN;;ACHO,SAASC,QAAT,CAAkBC,EAAlB,EAAsBhC,SAAtB,EAAiC;MAClCgC,GAAGC,SAAP,EAAkB;OACbA,SAAH,CAAaC,GAAb,CAAiBlC,SAAjB;GADF,MAEO;OACFA,SAAH,IAAgB,MAAMA,SAAtB;;;;AAIJ,AAAO,SAASmC,WAAT,CAAqBH,EAArB,EAAyBhC,SAAzB,EAAoC;MACrCgC,GAAGC,SAAP,EAAkB;OACbA,SAAH,CAAaG,MAAb,CAAoBpC,SAApB;GADF,MAEO;OACFA,SAAH,GAAegC,GAAGhC,SAAH,CAAaqC,OAAb,CAAqB,IAAI3C,MAAJ,CAAW,YAAYM,UAAU5C,KAAV,CAAgB,GAAhB,EAAqB0E,IAArB,CAA0B,GAA1B,CAAZ,GAA6C,SAAxD,EAAmE,IAAnE,CAArB,EAA+F,GAA/F,CAAf;;;;AAIJ,AAAO;;AAOP,AAAO,SAASQ,WAAT,CAAqBC,IAArB,EAA2B;MAC5BA,KAAKC,KAAT,EAAgB;WACPD,KAAKC,KAAL,CAAWxD,KAAlB;;SAEKuD,KAAKE,UAAL,CAAgBC,MAAhB,CAAuB;WAAKpF,EAAEqF,IAAF,KAAW,OAAhB;GAAvB,EAAgD,CAAhD,EAAmD3D,KAA1D;;;AAGF,AAAO,SAAS4D,aAAT,CAAuBC,KAAvB,EAA8B;MAC7BC,cAAc,EAApB;;WAESC,QAAT,CAAkBF,KAAlB,EAAyB;SAClB,IAAIG,IAAI,CAAb,EAAgBA,IAAIH,MAAMtD,MAA1B,EAAkCyD,GAAlC,EAAuC;UACjCC,OAAOJ,MAAMG,CAAN,CAAX;UACIC,KAAKV,IAAT,EAAe;YACTU,KAAKV,IAAL,CAAUE,UAAd,EAA0B;cAClBS,QAAQD,KAAKV,IAAL,CAAUE,UAAV,CAAqBC,MAArB,CAA4B;mBAAKpF,EAAEqF,IAAF,KAAW,OAAhB;WAA5B,CAAd;cACIO,MAAM3D,MAAV,EAAkB;wBACJtB,IAAZ,CAAiBgF,IAAjB;;SAHJ,MAKO,IAAIA,KAAKV,IAAL,CAAUC,KAAd,EAAqB;sBACdvE,IAAZ,CAAiBgF,IAAjB;;;UAGAA,KAAKtF,QAAT,EAAmB;iBACRsF,KAAKtF,QAAd;;;;;WAKGkF,KAAT;;SAEOC,WAAP;;;AAGF,AAAO,SAASK,OAAT,CAAiBjE,KAAjB,EAAwB;MAC1BA,MAAMqD,IAAN,IAAcrD,MAAMqD,IAAN,CAAWa,KAAzB,IAAkClE,MAAMqD,IAAN,CAAWa,KAAX,CAAiBT,IAAtD,EAA4D;WACnDzD,MAAMqD,IAAN,CAAWa,KAAX,CAAiBT,IAAxB;GADF,MAEO,IAAIzD,MAAMmE,gBAAN,IAA0BnE,MAAMmE,gBAAN,CAAuBC,SAAjD,IAA8DpE,MAAMmE,gBAAN,CAAuBC,SAAvB,CAAiCX,IAAnG,EAAyG;WACvGzD,MAAMmE,gBAAN,CAAuBC,SAAvB,CAAiCX,IAAxC;;;;AC1DG,SAASY,cAAT,CAAwBrE,KAAxB,EAA+BsE,QAA/B,EAAyC;;MAE1CC,aAAa,KAAjB;MACML,QAAQlE,MAAMqD,IAAN,CAAWa,KAAX,IAAoB,EAAlC;MACMM,WAAWF,SAASjB,IAAT,CAAca,KAAd,IAAuB,EAAxC;MACMjC,MAAM,EAAZ;;MAEImB,YAAYpD,MAAMqD,IAAlB,MAA4BD,YAAYkB,SAASjB,IAArB,CAAhC,EAA4D;QACtDoB,MAAJ,GAAa,IAAb;iBACa,IAAb;;;SAGK7F,IAAP,CAAYiB,UAAZ,EAAwBhB,OAAxB,CAAgC,UAAC6F,SAAD,EAAe;QACzCR,MAAMQ,SAAN,MAAqBF,SAASE,SAAT,CAAzB,EAA8C;UACxCA,SAAJ,IAAiB,IAAjB;mBACa,IAAb;;GAHJ;;;MAQI1E,MAAMmE,gBAAN,IAA0BnE,MAAMmE,gBAAN,CAAuBC,SAArD,EAAgE;;UACxDF,QAAQlE,MAAMmE,gBAAN,CAAuBC,SAArC;UACMI,WAAWF,SAASH,gBAAT,CAA0BC,SAA3C;aACOxF,IAAP,CAAYiB,UAAZ,EAAwBhB,OAAxB,CAAgC,UAAC6F,SAAD,EAAe;YACzCR,MAAMQ,SAAN,MAAqBF,SAASE,SAAT,CAAzB,EAA8C;cACxCA,SAAJ,IAAiB,IAAjB;uBACa,IAAb;;OAHJ;;;;MAQEH,UAAJ,EAAgB;WACPtC,GAAP;;;;AAIJ,uBAAe;QACP,oBADO;MAAA,gBAERa,EAFQ,EAEJ6B,OAFI,EAEK3E,KAFL,EAEY;QACjB4E,aAAaD,QAAQ7E,KAA3B;QACMoE,QAASlE,MAAMqD,IAAN,CAAWa,KAAX,IAAoB,EAAnC;QACMW,YAAYZ,QAAQjE,KAAR,CAAlB;;QAEI,CAAC6E,SAAL,EAAgB;cACNC,IAAR,CAAa,kCAAb;;;;;WAKKlG,IAAP,CAAYsF,KAAZ,EAAmBrF,OAAnB,CAA2B,UAACkG,IAAD,EAAU;UAC/BC,aAAJ;UACID,SAAS,MAAb,EAAqB;eACZb,MAAMa,IAAN,CAAP;OADF,MAEO;eACEA,IAAP;;UAEElF,WAAWmF,IAAX,KAAoB,CAACJ,WAAWK,WAAX,CAAuBD,IAAvB,CAAzB,EAAuD;mBAC1CC,WAAX,CAAuBD,IAAvB,IAA+BnF,WAAWmF,IAAX,CAA/B;;KARJ;;;;QAcIhF,MAAMmE,gBAAN,IAA0BnE,MAAMmE,gBAAN,CAAuBC,SAArD,EAAgE;aACvDxF,IAAP,CAAYoB,MAAMmE,gBAAN,CAAuBC,SAAnC,EAA8CvF,OAA9C,CAAsD,UAACmG,IAAD,EAAU;YAC1DnF,WAAWmF,IAAX,KAAoB,CAACJ,WAAWK,WAAX,CAAuBD,IAAvB,CAAzB,EAAuD;qBAC1CC,WAAX,CAAuBD,IAAvB,IAA+BnF,WAAWmF,IAAX,CAA/B;;OAFJ;;;eAOSE,SAAX,CAAqBlF,KAArB;;;OAGGmF,gBAAH,CAAoB,MAApB,EAA4B,YAAM;iBACrBC,WAAX;KADF,EAEG,KAFH;OAGGD,gBAAH,CAAoB,OAApB,EAA6B,YAAM;iBACtBE,WAAX;KADF,EAEG,KAFH;;;QAKIrF,MAAMsF,iBAAV,EAA6B;YACrBA,iBAAN,CAAwBC,GAAxB,CAA4B,MAA5B,EAAoC,YAAM;mBAC7BH,WAAX;OADF;YAGME,iBAAN,CAAwBC,GAAxB,CAA4B,OAA5B,EAAqC,YAAM;mBAC9BF,WAAX;OADF;;GAlDS;QAAA,kBAwDNvC,EAxDM,EAwDF6B,OAxDE,EAwDO3E,KAxDP,EAwDcwF,QAxDd,EAwDwB;QAC7BC,UAAUpB,eAAerE,KAAf,EAAsBwF,QAAtB,CAAhB;QACM/B,OAAO,CAACzD,MAAMqD,IAAN,CAAWa,KAAX,IAAoB,EAArB,EAAyBT,IAAtC;QACMmB,aAAaD,QAAQ7E,KAA3B;;QAEI,CAAC2F,OAAL,EAAc;;;;QAIVA,QAAQhB,MAAZ,EAAoB;;UAEdG,WAAWc,WAAf,EAA4B;mBACfC,SAAX;;iBAEST,SAAX,CAAqBlF,KAArB;KALF,MAMO;;;;;;;iBAOMkF,SAAX,CAAqBlF,KAArB;;;CA9EN;;ACnCA;;AAEA,eAAe;QAAA,kBACNxB,CADM,EACH;;;QACJoF,cAAcF,cAAc,KAAK1E,MAAL,CAAYS,OAA1B,CAAlB;QACImE,YAAYvD,MAAhB,EAAwB;WACjBoD,IAAL,GAAYQ,QAAQL,YAAY,CAAZ,CAAR,CAAZ;kBACY/E,OAAZ,CAAoB,UAAC+G,UAAD,EAAgB;YAC9B,CAACA,WAAWvC,IAAX,CAAgBE,UAArB,EAAiC;qBACpBF,IAAX,CAAgBE,UAAhB,GAA6B,EAA7B;;mBAESF,IAAX,CAAgBE,UAAhB,CAA2BxE,IAA3B,CAAgC,EAAE0E,MAAM,oBAAR,EAA8B3D,OAAO,MAAK8E,UAA1C,EAAhC;mBACWvB,IAAX,CAAgBa,KAAhB,CAAsB,oBAAtB,IAA8C,EAA9C;OALF;KAFF,MASO;cACGY,IAAR,CAAa,gCAAb;;WAEKtG,EAAE,KAAKS,GAAP,EAAY,EAAE,SAAS,KAAK6B,SAAL,CAAe4B,GAAf,CAAmB;eAAK/E,OAAOgF,WAAP,GAAqB,YAArB,GAAoCvE,CAAzC;OAAnB,CAAX,EAAZ,EAAyF,KAAKY,MAAL,CAAYS,OAArG,CAAP;GAfW;;SAiBN;WACEP,MADF;YAEG,IAFH;SAGA;YACGC,MADH;eAEM;;GAtBA;MAAA,kBAyBN;WACE;YACC,EADD;iBAEM,EAFN;kBAGO;KAHd;GA1BW;;YAgCH;aAAA,uBACI;UACJ8C,MAAM,EAAZ;UACI,KAAK2C,UAAL,CAAgBlD,MAApB,EAA4B;YACtB3C,IAAJ,CAASpB,OAAOuE,UAAhB;OADF,MAEO;YACDnD,IAAJ,CAASpB,OAAOwE,aAAhB;;UAEE,KAAKyC,UAAL,CAAgB/C,MAApB,EAA4B;YACtB9C,IAAJ,CAASpB,OAAOyE,UAAhB;OADF,MAEO;YACDrD,IAAJ,CAASpB,OAAO0E,YAAhB;;UAEE,KAAKuC,UAAL,CAAgBjD,QAApB,EAA8B;YACxB5C,IAAJ,CAASpB,OAAO2E,YAAhB;OADF,MAEO;YACDvD,IAAJ,CAASpB,OAAO4E,cAAhB;;UAEE,KAAKqC,UAAL,CAAgBhD,QAApB,EAA8B;YACxB7C,IAAJ,CAASpB,OAAO8E,YAAhB;;aAEK7D,IAAP,CAAY,KAAKgG,UAAL,CAAgBlG,MAA5B,EAAoCG,OAApC,CAA4C,UAACW,KAAD,EAAW;YACjDT,IAAJ,CAASpB,OAAO0E,YAAP,GAAsB,GAAtB,GAA4B7C,KAArC;OADF;;aAIOyC,GAAP;;GAzDS;SAAA,qBA4DH;SACH2C,UAAL,CAAgB3D,KAAhB,GAAwB,KAAKwC,IAA7B;SACK1F,SAAL,GAAiB,KAAKuB,KAAL,IAAc,KAAKC,OAAL,CAAaD,KAA5C;SACKvB,SAAL,CAAe8H,WAAf,CAA2B,KAAKjB,UAAhC;;QAEMkB,YAAY,KAAKC,GAAL,CAASC,gBAAT,CAA0B,sBAA1B,CAAlB;;;SAGK5E,MAAL,CAAY,WAAZ,EAAyB,UAACtB,KAAD,EAAQmG,QAAR,EAAqB;UACxCA,QAAJ,EAAc;mCACHnC,CADG;mBAEDjF,OAAT,CAAiB;mBAAKoE,YAAY6C,UAAUhC,CAAV,CAAZ,EAA0BnG,OAAOgF,WAAP,GAAqBvE,CAA/C,CAAL;WAAjB;;;aADG,IAAI0F,IAAI,CAAb,EAAgBA,IAAIgC,UAAUzF,MAA9B,EAAsCyD,GAAtC,EAA2C;gBAAlCA,CAAkC;;;;mCAIpCA,EANmC;cAOpCjF,OAAN,CAAc;iBAAKgE,SAASiD,UAAUhC,EAAV,CAAT,EAAuBnG,OAAOgF,WAAP,GAAqBvE,CAA5C,CAAL;SAAd;;;WADG,IAAI0F,KAAI,CAAb,EAAgBA,KAAIgC,UAAUzF,MAA9B,EAAsCyD,IAAtC,EAA2C;eAAlCA,EAAkC;;KAN7C,EASG;YACK,IADL;iBAEU;KAXb;GApEW;SAAA,qBAmFH;;;QACFoC,KAAK,IAAX;QACIC,oBAAoB,EAAxB;QACIC,aAAJ;SACKxB,UAAL,GAAkB;aACT,EADS;cAER,KAFQ;iBAGL,IAHK;cAIR,IAJQ;gBAKN,KALM;gBAMN,KANM;kBAOJ,IAPI;gBAQN,KARM;cASR,EATQ;2BAAA,iCAUMF,SAVN,EAUiBpD,OAVjB,EAU0B;YACpCA,OAAJ,EAAa;aACRH,OAAH,CAAW,KAAKzC,MAAhB,EAAwBgG,SAAxB;SADF,MAEO;aACFxD,IAAH,CAAQ,KAAKxC,MAAb,EAAqBgG,SAArB,EAAgC,IAAhC;;OAdY;kBAAA,wBAiBHpD,OAjBG,EAiBM;aACfO,MAAL,GAAcP,OAAd;aACKU,QAAL,GAAgB,CAACV,OAAjB;OAnBc;eAAA,uBAqBJ;aACLI,MAAL,GAAc,IAAd;aACKI,SAAL,GAAiB,KAAjB;OAvBc;kBAAA,0BAyBD;aACRJ,MAAL,GAAc,KAAd;aACKI,SAAL,GAAiB,IAAjB;OA3Bc;iBAAA,yBA6BF;aACPH,QAAL,GAAgB,IAAhB;aACKI,UAAL,GAAkB,KAAlB;OA/Bc;mBAAA,2BAiCA;aACTJ,QAAL,GAAgB,KAAhB;aACKI,UAAL,GAAkB,IAAlB;OAnCc;iBAAA,yBAqCF;aACP2D,WAAL,GAAmB,IAAnB;OAtCc;;mBAwCH,KAxCG;mBAyCH,EAzCG;eAAA,qBA0CN1F,KA1CM,EA0CC;;;aACV4B,QAAL,GAAgB,IAAhB;YACIN,UAAU,IAAd;YACI+E,mBAAmB,KAAvB;YACMvG,QAAQsD,YAAYpD,MAAMqD,IAAlB,CAAd;eACOvD,KAAP;;YAEMwG,UAAU;oBACJ,EADI;iBAEP;SAFT;;0BAKkBvH,IAAlB,CAAuBuH,OAAvB;;YAEMpC,QAASlE,MAAMqD,IAAN,CAAWa,KAAX,IAAoB,EAAnC;YACME,YAAapE,MAAMmE,gBAAN,IAA0BnE,MAAMmE,gBAAN,CAAuBC,SAAjD,GAA6DpE,MAAMmE,gBAAN,CAAuBC,SAApF,GAAgG,EAAnH;;eAEOxF,IAAP,CAAY,KAAKqG,WAAjB,EAA8BpG,OAA9B,CAAsC,UAAC6F,SAAD,EAAe;;cAE/C,CAAC5E,UAAU,EAAV,IAAgBA,UAAUyG,SAA1B,IAAuCzG,UAAU,IAAlD,KAA2D4E,cAAc,UAA7E,EAAyF;mBAClF8B,qBAAL,CAA2B9B,SAA3B,EAAsC,IAAtC;+BACmB,IAAnB;;;;;cAKI3E,YAAY,OAAOmE,MAAMQ,SAAN,CAAP,KAA4B,WAA5B,GAA0CR,MAAMQ,SAAN,CAA1C,GAA6DN,UAAUM,SAAV,CAA/E;cACM+B,SAAS,OAAKxB,WAAL,CAAiBP,SAAjB,EAA4B5E,KAA5B,EAAmCC,SAAnC,EAA8CC,KAA9C,CAAf;cACI,OAAOyG,MAAP,KAAkB,SAAtB,EAAiC;gBAC3BA,MAAJ,EAAY;qBACLD,qBAAL,CAA2B9B,SAA3B,EAAsC,IAAtC;aADF,MAEO;wBACK,KAAV;qBACK8B,qBAAL,CAA2B9B,SAA3B,EAAsC,KAAtC;;WALJ,MAOO;oBACGgC,QAAR,CAAiB3H,IAAjB,CAAsB0H,MAAtB;oBACQE,KAAR,CAAc5H,IAAd,CAAmB2F,SAAnB;;SApBJ;;YAwBI4B,QAAQI,QAAR,CAAiBrG,MAArB,EAA6B;iBACpBxC,OAAP,CAAe+I,GAAf,CAAmBN,QAAQI,QAA3B,EAAqCG,IAArC,CAA0C,UAACC,OAAD,EAAa;;;;gBAIjDR,YAAYH,kBAAkBA,kBAAkB9F,MAAlB,GAA2B,CAA7C,CAAhB,EAAiE;;;;;gCAK7C,EAApB;;oBAEQxB,OAAR,CAAgB,UAAC4H,MAAD,EAAS3C,CAAT,EAAe;kBACvBL,OAAO6C,QAAQK,KAAR,CAAc7C,CAAd,CAAb;kBACI2C,MAAJ,EAAY;uBACLD,qBAAL,CAA2B/C,IAA3B,EAAiC,IAAjC;eADF,MAEO;0BACK,KAAV;uBACK+C,qBAAL,CAA2B/C,IAA3B,EAAiC,KAAjC;;aANJ;mBASKsD,YAAL,CAAkBzF,OAAlB;mBACKM,QAAL,GAAgB,KAAhB;WArBF;SADF,MAwBO;eACAmF,YAAL,CAAkBzF,OAAlB;eACKM,QAAL,GAAgB,KAAhB;;;KA7GN;;;QAmHI,KAAKoF,MAAT,EAAiB;aACRpI,IAAP,CAAY,KAAKoI,MAAjB,EAAyBnI,OAAzB,CAAiC,UAACmG,IAAD,EAAU;eACpCJ,UAAL,CAAgBK,WAAhB,CAA4BD,IAA5B,IAAoC,OAAKgC,MAAL,CAAYhC,IAAZ,CAApC;OADF;;GA3MS;WAAA,uBAiND;SACLjH,SAAL,CAAekJ,cAAf,CAA8B,KAAKrC,UAAnC;;CAlNJ;;ACEA,WAAe;SAAA,mBACLsC,GADK,EACA;QACPC,SAAJ,CAAcxJ,OAAOyJ,aAArB,EAAoCC,OAApC;QACIF,SAAJ,CAAcxJ,OAAO2J,iBAArB,EAAwCC,QAAxC;QACIJ,SAAJ,CAAcxJ,OAAO6J,eAArB,EAAsCC,UAAtC;QACIN,SAAJ,CAAcxJ,OAAO+J,cAArB,EAAqCC,SAArC;QACIC,SAAJ,CAAc,oBAAd,EAAoCC,gBAApC;GANW;;gBAAA;cAAA,wBASA/I,GATA,EASKgJ,EATL,EASS;eACThJ,GAAX,IAAkBgJ,EAAlB;GAVW;;SAYN;gBACO;4BAAA;0BAAA;sBAAA;;KADP;gBAOO;;;;CAnBhB;;;;"}